<script type="module">
  // Extract contents of markdown mermaid blocks into <div class="mermaid">
  // Source: https://css-tricks.com/making-mermaid-diagrams-in-markdown/
  for (let element of document.querySelectorAll(
    "pre.mermaid, pre>code.language-mermaid"
  )) {
    if (element.tagName === "CODE") {
      element = element.parentElement;
    }
    element.outerHTML = /*html*/ `<div class="mermaid">${element.textContent}</div>`;
  }
  import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs";
  mermaid.initialize({ startOnLoad: true, theme: "dark" });
</script>
